{"version":3,"file":"logger.js","sources":["../../src/logger.ts"],"sourcesContent":["export interface Logger {\n  log: (...args: Array<any>) => void\n  debug: (...args: Array<any>) => void\n  info: (...args: Array<any>) => void\n  warn: (...args: Array<any>) => void\n  error: (...args: Array<any>) => void\n}\n\nexport function logging(config: { disabled: boolean }): Logger {\n  function stripEmojis(str: string) {\n    return str.replace(\n      /[\\p{Emoji_Presentation}\\p{Extended_Pictographic}]/gu,\n      '',\n    )\n  }\n\n  function formatLogArgs(args: Array<any>): Array<any> {\n    if (process.env.CI) {\n      return args.map((arg) =>\n        typeof arg === 'string' ? stripEmojis(arg) : arg,\n      )\n    }\n    return args\n  }\n\n  return {\n    log: (...args: Array<any>) => {\n      if (!config.disabled) console.log(...formatLogArgs(args))\n    },\n    debug: (...args: Array<any>) => {\n      if (!config.disabled) console.debug(...formatLogArgs(args))\n    },\n    info: (...args: Array<any>) => {\n      if (!config.disabled) console.info(...formatLogArgs(args))\n    },\n    warn: (...args: Array<any>) => {\n      if (!config.disabled) console.warn(...formatLogArgs(args))\n    },\n    error: (...args: Array<any>) => {\n      if (!config.disabled) console.error(...formatLogArgs(args))\n    },\n  }\n}\n"],"names":[],"mappings":"AAQO,SAAS,QAAQ,QAAuC;AAC7D,WAAS,YAAY,KAAa;AAChC,WAAO,IAAI;AAAA,MACT;AAAA,MACA;AAAA,IAAA;AAAA,EAEJ;AAEA,WAAS,cAAc,MAA8B;AACnD,QAAI,QAAQ,IAAI,IAAI;AAClB,aAAO,KAAK;AAAA,QAAI,CAAC,QACf,OAAO,QAAQ,WAAW,YAAY,GAAG,IAAI;AAAA,MAAA;AAAA,IAEjD;AACA,WAAO;AAAA,EACT;AAEA,SAAO;AAAA,IACL,KAAK,IAAI,SAAqB;AAC5B,UAAI,CAAC,OAAO,SAAU,SAAQ,IAAI,GAAG,cAAc,IAAI,CAAC;AAAA,IAC1D;AAAA,IACA,OAAO,IAAI,SAAqB;AAC9B,UAAI,CAAC,OAAO,SAAU,SAAQ,MAAM,GAAG,cAAc,IAAI,CAAC;AAAA,IAC5D;AAAA,IACA,MAAM,IAAI,SAAqB;AAC7B,UAAI,CAAC,OAAO,SAAU,SAAQ,KAAK,GAAG,cAAc,IAAI,CAAC;AAAA,IAC3D;AAAA,IACA,MAAM,IAAI,SAAqB;AAC7B,UAAI,CAAC,OAAO,SAAU,SAAQ,KAAK,GAAG,cAAc,IAAI,CAAC;AAAA,IAC3D;AAAA,IACA,OAAO,IAAI,SAAqB;AAC9B,UAAI,CAAC,OAAO,SAAU,SAAQ,MAAM,GAAG,cAAc,IAAI,CAAC;AAAA,IAC5D;AAAA,EAAA;AAEJ;"}